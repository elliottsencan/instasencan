angular.module("instatest",["ngRoute"]).config(["$routeProvider","$locationProvider",function(e){e.when("/tag/:tag",{controller:"slideshow"}).otherwise({redirectTo:"/"})}]).controller("slideshow",["$scope","$http","$timeout","$route","$location",function(e,t,a,n,i){var r,g,c="https://api.instagram.com/v1/tags/%tag%/media/recent?access_token=1483275.5b9e1e6.0e1ebb1c18344fe6be64ac91aa3e0dc7&callback=JSON_CALLBACK",s="6000",l="2000";REFRESH_3="1000",a(function(){e.loadingClass="loading",e.imgCurrent=0,e.fetchImages=arguments.callee,n.current?angular.isDefined(n.current.params.tag)&&(e.tag=n.current.params.tag):i.path("/tag/"+e.tag),t.jsonp(c.replace("%tag%",e.tag)).then(function(t){if(delete e.loadingClass,e.images=t.data.data,t.data.data.length){var n=e.imgCurrent;delete e.images[e.imgCurrent].isActive,e.imgCurrent=n%e.images.length,e.images[e.imgCurrent].isActive=!0}g&&a.cancel(g),t.data.data.length&&(g=a(arguments.callee,u(s)*t.data.data.length))},function(t){t&&delete e.loadingClass,g=a(e.fetchImages,u(l))})}),a(function(){if(angular.isDefined(e.images)&&e.images.length){var t=e.imgCurrent+1;delete e.images[e.imgCurrent].isActive,e.imgCurrent=t%e.images.length,e.images[e.imgCurrent].isActive=!0}a(arguments.callee,u(s))}),e.tagChange=function(){i.path("/tag/"+e.tag),r&&a.cancel(r),newRequest=a(function(){e.fetchImages.call(null),a.cancel(newRequest)},u(REFRESH_3))};var u=function(e){return~~e}}]).filter("escape",function(){return function(e){return escape(e)}});